<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Validator.js by guillaumepotier</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Validator.js</h1>
          <h2>Powerful objects and strings validation in javascript for Node and the browser </h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/guillaumepotier/validator.js/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/guillaumepotier/validator.js/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/guillaumepotier/validator.js" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="validatorjs" class="anchor" href="#validatorjs"><span class="octicon octicon-link"></span></a>validator.js</h1>

<p>Powerful objects and strings validation in javascript for Node and the browser</p>

<h2>
<a name="version" class="anchor" href="#version"><span class="octicon octicon-link"></span></a>Version</h2>

<p>0.4.1</p>

<h2>
<a name="status" class="anchor" href="#status"><span class="octicon octicon-link"></span></a>Status</h2>

<p><a href="https://travis-ci.org/guillaumepotier/validator.js"><img src="https://travis-ci.org/guillaumepotier/validator.js.png?branch=master" alt="Build Status"></a></p>

<h2>
<a name="licence" class="anchor" href="#licence"><span class="octicon octicon-link"></span></a>Licence</h2>

<p>MIT - See LICENCE.md</p>

<h2>
<a name="run-tests" class="anchor" href="#run-tests"><span class="octicon octicon-link"></span></a>Run Tests</h2>

<ul>
<li>
<p>On node:</p>

<ul>
<li><code>npm install mocha</code></li>
<li><code>npm install expect.js</code></li>
<li><code>mocha tests/server.js</code></li>
</ul>
</li>
<li>
<p>On browser:</p>

<ul>
<li>open tests/browser.html in your browser</li>
</ul>
</li>
</ul><h1>
<a name="summary" class="anchor" href="#summary"><span class="octicon octicon-link"></span></a>Summary</h1>

<ul>
<li><a href="#general-usage">General usage</a></li>
<li><a href="#validate-a-string">Validate string</a></li>
<li><a href="#validate-an-object">Validate object</a></li>
<li><a href="#validation-groups">Validation groups</a></li>
<li><a href="#bind-a-constraint-to-an-object">Bind constraint to an object</a></li>
<li><a href="#assert-definition">Assert definition</a></li>
<li><a href="#constraint-definition">Constraint definition</a></li>
<li><a href="#available-asserts">Available asserts</a></li>
<li><a href="#collection-assert">Collection Assert</a></li>
<li><a href="#callback-assert">Callback Assert</a></li>
</ul><h2>
<a name="general-usage" class="anchor" href="#general-usage"><span class="octicon octicon-link"></span></a>General usage</h2>

<ul>
<li>On node:
<code>
$ npm install -g validator.js
</code>
Then
<code>js
Validator = require( 'validator.js' );
</code>
</li>
<li>On browser:
<code>js
&lt;script src="../validator.js"&gt;&lt;/script&gt;
&lt;script&gt;
console.log(Validator);
&lt;/script&gt;
</code>
</li>
</ul><h2>
<a name="validate-a-string" class="anchor" href="#validate-a-string"><span class="octicon octicon-link"></span></a>Validate a string</h2>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Assert</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Assert</span><span class="p">;</span>

<span class="nx">Validator</span><span class="p">.</span><span class="nx">Validator</span><span class="p">().</span><span class="nx">validate</span><span class="p">(</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mi">4</span> <span class="p">}</span> <span class="p">)</span> <span class="p">);</span>
<span class="nx">Validator</span><span class="p">.</span><span class="nx">Validator</span><span class="p">().</span><span class="nx">validate</span><span class="p">(</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="p">[</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mi">4</span> <span class="p">}</span> <span class="p">),</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Email</span><span class="p">()</span> <span class="p">]</span> <span class="p">);</span>

</pre></div>

<p>will return <code>true</code> if validation passes, a <code>Violation</code>'s array otherwise.</p>

<h2>
<a name="validate-an-object" class="anchor" href="#validate-an-object"><span class="octicon octicon-link"></span></a>Validate an object</h2>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">Validator</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Validator</span><span class="p">,</span>
    <span class="nx">Assert</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Assert</span><span class="p">,</span>
    <span class="nx">Constraint</span> <span class="o">=</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Constraint</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s1">'john doe'</span><span class="p">,</span>
    <span class="nx">email</span><span class="o">:</span> <span class="s1">'wrong@email'</span><span class="p">,</span>
    <span class="nx">firstname</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">phone</span><span class="o">:</span> <span class="kc">null</span>
  <span class="p">},</span>
  <span class="nx">constraint</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span>      <span class="p">[</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotBlank</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="mi">25</span> <span class="p">}</span> <span class="p">)</span> <span class="p">],</span>
    <span class="nx">email</span><span class="o">:</span>     <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Email</span><span class="p">(),</span>
    <span class="nx">firstname</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotBlank</span><span class="p">(),</span>
    <span class="nx">phone</span><span class="o">:</span>     <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotBlank</span><span class="p">()</span>
  <span class="p">};</span>

<span class="nx">Validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">constraint</span> <span class="p">);</span>
</pre></div>

<p>will return <code>true</code> if validation passes,
<code>{ email: [ Violation ], firstname: [ Violation ] }</code> in this case.</p>

<h2>
<a name="validation-groups" class="anchor" href="#validation-groups"><span class="octicon octicon-link"></span></a>Validation groups</h2>

<p>With same objects than above, just by adding validation groups:</p>

<div class="highlight"><pre>  <span class="nx">constraint</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">name</span><span class="o">:</span>      <span class="p">[</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotBlank</span><span class="p">(),</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">(</span> <span class="s1">'edit'</span> <span class="p">).</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="mi">25</span> <span class="p">}</span> <span class="p">)</span> <span class="p">],</span>
    <span class="nx">email</span><span class="o">:</span>     <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Email</span><span class="p">(),</span>
    <span class="nx">firstname</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">(</span> <span class="p">[</span> <span class="s1">'edit'</span><span class="p">,</span> <span class="s1">'register'</span><span class="p">]</span> <span class="p">).</span><span class="nx">NotBlank</span><span class="p">(),</span>
    <span class="nx">phone</span><span class="o">:</span>     <span class="k">new</span> <span class="nx">Assert</span><span class="p">(</span> <span class="s1">'edit'</span> <span class="p">).</span><span class="nx">NotBlank</span><span class="p">()</span>
  <span class="p">};</span>

<span class="nx">Validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">constraint</span><span class="p">,</span> <span class="s1">'edit'</span> <span class="p">);</span>
</pre></div>

<p>will return <code>true</code> in this case <code>{ firstname: [ Violation ], phone: [ Violation ] }</code>.</p>

<h2>
<a name="bind-a-constraint-to-an-object" class="anchor" href="#bind-a-constraint-to-an-object"><span class="octicon octicon-link"></span></a>Bind a constraint to an object</h2>

<div class="highlight"><pre><span class="nx">Validator</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">constraint</span> <span class="p">);</span>
<span class="nx">Validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">groups</span> <span class="p">);</span>
</pre></div>

<p>Under the hood, by default, a <code>_validatorjsConstraint</code> key will be created in object
in order to store here the constraint. You could override this default key name by
passing an option to Validator constructor.</p>

<h1>
<a name="documentation" class="anchor" href="#documentation"><span class="octicon octicon-link"></span></a>Documentation</h1>

<h2>
<a name="assert-definition" class="anchor" href="#assert-definition"><span class="octicon octicon-link"></span></a>Assert definition</h2>

<p>An assert implements Assert Interface, and is an assertion that your string or object
property must pass during validation process. There are several Asserts built in
Validator.js (see below), but you can implement yours for your needs using the
<code>Callback()</code> assert (see below).</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">length</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Assert</span><span class="p">().</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mi">10</span> <span class="p">}</span> <span class="p">);</span>
<span class="k">try</span> <span class="p">{</span>
  <span class="nx">length</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span> <span class="s1">'foo'</span> <span class="p">);</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span> <span class="nx">violation</span> <span class="p">)</span> <span class="p">{}</span>
</pre></div>

<h2>
<a name="constraint-definition" class="anchor" href="#constraint-definition"><span class="octicon octicon-link"></span></a>Constraint definition</h2>

<p>A Constraint is a set of asserts nodes that would be used to validate an object.</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">length</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Assert</span><span class="p">().</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="mi">10</span> <span class="p">}</span> <span class="p">);</span>
<span class="kd">var</span> <span class="nx">notBlank</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Validator</span><span class="p">.</span><span class="nx">Assert</span><span class="p">().</span><span class="nx">NotBlank</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">constraint</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Constraint</span><span class="p">(</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="nx">notBlank</span> <span class="p">}</span> <span class="p">);</span>

<span class="nx">constraint</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="nx">bar</span><span class="o">:</span> <span class="s1">'bar'</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>

<h3>
<a name="strict-constraint-validation" class="anchor" href="#strict-constraint-validation"><span class="octicon octicon-link"></span></a>Strict Constraint validation</h3>

<p>By default, if Validator.js look into object properties if there are related nodes in
Constraint object to validate them. That means that if Constraint have nodes not
defined in validated object, there won't be Violations thrown and object would be
considered as valid. If you want a strict validation (ie ensure that <strong>every</strong>)
Constraint node is valid, you'll have to pass an optional parameter to your Constraint:</p>

<div class="highlight"><pre><span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="s1">'foo'</span><span class="p">,</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="s1">'bar'</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">constraint</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Constraint</span><span class="p">(</span> <span class="p">{</span>
    <span class="nx">foo</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Required</span><span class="p">(),</span>
    <span class="nx">bar</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Required</span><span class="p">(),</span>
    <span class="nx">baz</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Required</span><span class="p">()</span>
<span class="p">},</span> <span class="p">{</span> <span class="nx">strict</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>

<span class="nx">constraint</span><span class="p">.</span><span class="nx">check</span><span class="p">(</span> <span class="nx">object</span> <span class="p">);</span>
</pre></div>

<p>will return a <code>HaveProperty</code> Violation, saying that <code>baz</code> property does not exist
in validated object. Without <code>{ strict: true }</code> this check would return <code>true</code>.</p>

<h2>
<a name="available-asserts" class="anchor" href="#available-asserts"><span class="octicon octicon-link"></span></a>Available asserts</h2>

<div class="highlight"><pre><span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Blank</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Callback</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Choice</span><span class="p">(</span> <span class="p">[]</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Choice</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">()</span> <span class="p">{}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Collection</span> <span class="p">(</span> <span class="nx">Constraint</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Count</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Count</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">(</span> <span class="p">[]</span> <span class="p">)</span> <span class="p">{}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Email</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Eql</span><span class="p">(</span> <span class="nx">object</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Eql</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">EqualTo</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">EqualTo</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">GreaterThan</span><span class="p">(</span> <span class="nx">threshold</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">GreaterThanOrEqual</span><span class="p">(</span> <span class="nx">threshold</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Length</span><span class="p">(</span> <span class="p">{</span> <span class="nx">min</span><span class="o">:</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">max</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">HaveProperty</span><span class="p">(</span> <span class="nx">propertyName</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">LessThan</span><span class="p">(</span> <span class="nx">threshold</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">LessThanOrEqual</span><span class="p">(</span> <span class="nx">threshold</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">EqualTo</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">EqualTo</span><span class="p">(</span> <span class="nx">fn</span> <span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{}</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotBlank</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotNull</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Null</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Range</span><span class="p">(</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">max</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Regexp</span><span class="p">(</span> <span class="nx">value</span> <span class="p">);</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Required</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Unique</span><span class="p">();</span>
<span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Unique</span><span class="p">(</span> <span class="p">{</span> <span class="nx">key</span><span class="o">:</span> <span class="nx">value</span> <span class="p">}</span> <span class="p">);</span>
</pre></div>

<h3>
<a name="collection-assert" class="anchor" href="#collection-assert"><span class="octicon octicon-link"></span></a>Collection Assert</h3>

<p>Collection Assert is quite special yet powerful. It allows you to validate
an object's array by checking each one of them against a constraint.</p>

<p>Here is an example of test suite test showing how this assert works:</p>

<div class="highlight"><pre><span class="nx">it</span><span class="p">(</span> <span class="s1">'Collection'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">itemConstraint</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Constraint</span><span class="p">(</span> <span class="p">{</span> <span class="nx">foobar</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotNull</span><span class="p">(),</span> <span class="nx">foobaz</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotNull</span><span class="p">()</span> <span class="p">}</span> <span class="p">),</span>
    <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">foo</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nx">items</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nx">foobar</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">foobaz</span><span class="o">:</span> <span class="s1">'foo'</span><span class="p">,</span> <span class="nx">fooqux</span><span class="o">:</span> <span class="kc">null</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">foobar</span><span class="o">:</span> <span class="s1">'bar'</span><span class="p">,</span> <span class="nx">foobaz</span><span class="o">:</span> <span class="s1">'baz'</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">foobar</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">foobaz</span><span class="o">:</span> <span class="kc">null</span> <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">constraint</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">foo</span><span class="o">:</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">NotNull</span><span class="p">(),</span>
      <span class="nx">items</span><span class="o">:</span> <span class="p">[</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Collection</span><span class="p">(</span> <span class="nx">itemConstraint</span> <span class="p">),</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Count</span><span class="p">(</span> <span class="mi">2</span> <span class="p">)</span> <span class="p">]</span>
    <span class="p">};</span>

  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">validator</span><span class="p">.</span><span class="nx">validate</span><span class="p">(</span> <span class="nx">object</span><span class="p">,</span> <span class="nx">constraint</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'foo'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'items'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'0'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'2'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">0</span> <span class="p">][</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'foobar'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">0</span> <span class="p">][</span> <span class="mi">0</span> <span class="p">]</span> <span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'foobaz'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">0</span> <span class="p">][</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'foobar'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">0</span> <span class="p">][</span> <span class="mi">2</span> <span class="p">]</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">key</span><span class="p">(</span> <span class="s1">'foobaz'</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span> <span class="nx">Violation</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">result</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span> <span class="mi">1</span> <span class="p">].</span><span class="nx">assert</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">(</span> <span class="s1">'Count'</span> <span class="p">);</span>
<span class="p">}</span> <span class="p">)</span>
</pre></div>

<h3>
<a name="callback-assert" class="anchor" href="#callback-assert"><span class="octicon octicon-link"></span></a>Callback Assert</h3>

<p>This assert allows you to all the custom rules / assert you want. Just give a
callback function that will be called with the value to be tested against.
Return true for validation success, everything else if there is an error.</p>

<p>Here is an example of test suite test showing how this assert works:</p>

<div class="highlight"><pre><span class="nx">it</span><span class="p">(</span> <span class="s1">'Callback'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">assert</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Assert</span><span class="p">().</span><span class="nx">Callback</span><span class="p">(</span> <span class="kd">function</span> <span class="p">(</span> <span class="nx">value</span> <span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">calc</span> <span class="o">=</span> <span class="p">(</span> <span class="mi">42</span> <span class="o">/</span> <span class="nx">value</span> <span class="p">)</span> <span class="o">%</span> <span class="mi">2</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">calc</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="nx">calc</span><span class="p">;</span>
  <span class="p">}</span> <span class="p">);</span>

  <span class="nx">expect</span><span class="p">(</span> <span class="nx">validate</span><span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">(</span> <span class="kc">true</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">validate</span><span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">assert</span> <span class="p">).</span><span class="nx">show</span><span class="p">()</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">eql</span><span class="p">(</span> <span class="p">{</span> <span class="nx">assert</span><span class="o">:</span> <span class="s1">'Callback'</span><span class="p">,</span> <span class="nx">value</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">violation</span><span class="o">:</span> <span class="p">{</span> <span class="nx">result</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span> <span class="p">);</span>
  <span class="nx">expect</span><span class="p">(</span> <span class="nx">validate</span><span class="p">(</span> <span class="mi">42</span><span class="p">,</span> <span class="nx">assert</span> <span class="p">)</span> <span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">(</span> <span class="kc">true</span> <span class="p">);</span>
<span class="p">}</span> <span class="p">)</span>
</pre></div>
        </section>

        <footer>
          Validator.js is maintained by <a href="https://github.com/guillaumepotier">guillaumepotier</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

                  <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-41082541-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

      </div>
    </div>
  </body>
</html>